"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[573],{4683:(e,t,o)=>{o.d(t,{Z:()=>m});var s=o(1809);const i=()=>({paginationPage:1,popularMovies:[],favoriteMovies:[],searchMovies:[],movie:{},moviesByRecommendation:[],movieCredits:{},videos:[],selectedVideo:{},genres:[]}),a={getPopularMovies(e){const{popularMovies:t}=e;return t.results},movieProductionCountries(e){const{movie:t}=e;return t?.production_countries?.map((e=>e.name)).join(", ")},movieGenres(e){const{movie:t}=e;return t?.genres?.map((e=>e.name)).join(", ")},mainMovieActors(e){const{movieCredits:t}=e;return t?.cast?.slice(0,8)},genresById(e){const{genres:t}=e,o={};return t.map((e=>{o[e.id]=e.name})),o}};var r=o(7524);const n={getCookie(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}};let c="https://api.themoviedb.org/3";function l(){const e=n.getCookie("movies_token"),t=r.Z.create({baseURL:c,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return t}var v=o(1193);const u={getPopularMovies(e,t){const o={language:v.b$,region:"UA",page:e,...t};return l().get("/movie/popular",{params:o})},searchMovieByName(e){const t={language:v.b$,query:e};return l().get("/search/movie",{params:t})},getGenres(){const e={language:v.b$};return l().get("genre/movie/list",{params:e})},getMovieVideos(e){const t={language:v.b$};return l().get(`movie/${e}/videos`,{params:t})},getMovieRecommendations(e){const t={language:v.b$};return l().get(`movie/${e}/similar`,{params:t})},getMovieDetails(e){const t={language:v.b$};return l().get(`/movie/${e}`,{params:t})},getMovieCredits(e){const t={language:v.b$};return l().get(`movie/${e}/credits`,{params:t})}},d="movies",g=(0,s.Q_)(d,{state:i,getters:a,actions:{async FETCH_POPULAR_MOVIES(e=1,t={}){const o=await u.getPopularMovies(e,t);this.popularMovies=o.data},async FETCH_MOVIE_BY_NAME(e){const t=await u.searchMovieByName(e);this.searchMovies=t.data.results},async FETCH_SINGLE_MOVIE_INFORMATION(e){const t=await this.FETCH_MOVIE_DETAILS(e);return await this.FETCH_MOVIE_RECOMMENDATIONS(e),await this.FETCH_MOVIE_CREDITS(e),await this.FETCH_MOVIE_VIDEOS(e),t},async FETCH_MOVIE_DETAILS(e){const t=await u.getMovieDetails(e);return this.movie=t.data,t.data},async FETCH_MOVIE_RECOMMENDATIONS(e){const t=await u.getMovieRecommendations(e);this.moviesByRecommendation=t.data.results},async FETCH_MOVIE_CREDITS(e){const t=await u.getMovieCredits(e);this.movieCredits=t.data},async FETCH_MOVIE_VIDEOS(e){const t=await u.getMovieVideos(e);this.videos=t.data.results,this.selectedVideo=this.videos[0]},async FETCH_ALL_GENRES(){const e=await u.getGenres();this.genres=e.data.genres}},persist:{storage:localStorage}}),m={movies:g}},2128:(e,t,o)=>{o.d(t,{Z:()=>C});var s=o(9835),i=o(6970);const a=e=>((0,s.dD)("data-v-2730d86b"),e=e(),(0,s.Cn)(),e),r={class:"row items-center justify-center",ref:"scrollComponent"},n={class:"flex items-center justify-center"},c={class:"absolute-bottom text-subtitle2"},l={class:"absolute-top-right",style:{background:"transparent"}},v=a((()=>(0,s._)("div",null,null,-1)));function u(e,t,o,a,u,d){const g=(0,s.up)("q-tooltip"),m=(0,s.up)("q-img"),p=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.moviesList,(t=>((0,s.wg)(),(0,s.j4)(p,{key:t.id,class:"item text-dark cursor-pointer",style:{"flex-direction":"column"},onClick:o=>e.goToMovie(t)},{default:(0,s.w5)((()=>[(0,s._)("div",n,[(0,s.Wm)(m,{src:e.imagePath(t.poster_path),height:"350px",width:"250px"},{default:(0,s.w5)((()=>[(0,s._)("div",c,[(0,s._)("p",null,(0,i.zw)(t.title),1)]),(0,s._)("div",l,[(0,s._)("span",{class:"text-dark",style:(0,i.j5)([{"background-color":e.colorSchema[Math.round(t.vote_average)]},{"border-radius":"8px",padding:"0.5em 1em"}])},[(0,s.Uk)((0,i.zw)(t.vote_average.toFixed(2))+" ",1),(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.$t("votes"))+": "+(0,i.zw)(t.vote_count),1)])),_:2},1024)],4)])])),_:2},1032,["src"])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t[e.genresField],(t=>((0,s.wg)(),(0,s.iD)("span",{class:"inline-block",style:{"font-size":"12px",padding:"2px"},key:t},(0,i.zw)(e.isFavoritePage?t.name:e.movieStore.genresById[t]),1)))),128))])),_:2},1032,["onClick"])))),128))],512),v],64)}o(9665);var d=o(1193),g=o(4683);const m=(0,s.aZ)({name:"popular-movies-table",props:{isCategoryPage:{type:Boolean,required:!1,default:!1},categoryId:{type:Number,required:!1},isFavoritePage:{type:Boolean,required:!1,default:!1}},setup(){const e=g.Z.movies();return{movieStore:e}},data(){return{moviesList:[],colorSchema:d.VB,requestParams:{}}},methods:{handleScroll(e){let t=this.movieStore.popularMovies.page+1;window.scrollY+window.innerHeight>=document.body.scrollHeight&&this.movieStore.popularMovies.page!==t&&t<=this.movieStore.popularMovies.total_pages&&this.movieStore.FETCH_POPULAR_MOVIES(t,this.requestParams)},goToMovie(e){this.$router.push({name:"movie",params:{id:e.id}})}},computed:{imagePath(){return d.hp},genresField(){return this.isFavoritePage?"genres":"genre_ids"}},async mounted(){this.requestParams={...this.isCategoryPage&&{with_genres:this.categoryId}},this.isFavoritePage?this.moviesList=this.movieStore.favoriteMovies:(this.movieStore.FETCH_POPULAR_MOVIES(1,this.requestParams),window.addEventListener("scroll",this.handleScroll))},unmounted(){this.isFavoritePage||window.removeEventListener("scroll",this.handleScroll)},watch:{"movieStore.getPopularMovies":{handler:function(){this.moviesList.push(...this.movieStore.getPopularMovies)}},categoryId:{handler:async function(){this.requestParams["with_genres"]=this.categoryId,await this.movieStore.FETCH_POPULAR_MOVIES(1,this.requestParams),this.moviesList=this.movieStore.getPopularMovies}}}});var p=o(1639),h=o(4458),_=o(335),M=o(6858),w=o(9984),E=o.n(w);const y=(0,p.Z)(m,[["render",u],["__scopeId","data-v-2730d86b"]]),C=y;E()(m,"components",{QCard:h.Z,QImg:_.Z,QTooltip:M.Z})},5573:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var s=o(9835),i=o(6970);const a={style:{"font-size":"32px"}},r={key:0};function n(e,t,o,n,c,l){const v=(0,s.up)("popular-movies-table"),u=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(u,{padding:""},{default:(0,s.w5)((()=>[(0,s._)("div",a,(0,i.zw)(e.$t("favoritesPageTitle")),1),e.movieStore.favoriteMovies.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",r,(0,i.zw)(e.$t("noFavoritesMessage")),1)),(0,s.Wm)(v,{"is-favorite-page":!0})])),_:1})}var c=o(2128),l=o(4683);const v=(0,s.aZ)({name:"favorites-page",components:{PopularMoviesTable:c.Z},setup(){const e=l.Z.movies();return{movieStore:e}}});var u=o(1639),d=o(9885),g=o(9984),m=o.n(g);const p=(0,u.Z)(v,[["render",n]]),h=p;m()(v,"components",{QPage:d.Z})}}]);
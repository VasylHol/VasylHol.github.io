(globalThis["webpackChunk"]=globalThis["webpackChunk"]||[]).push([[626],{9677:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var s=a(1681);const o=()=>({paginationPage:1,popularMovies:[],favoriteMovies:[],searchMovies:[],movie:{},moviesByRecommendation:[],movieCredits:{},videos:[],selectedVideo:{},genres:[]}),i={getPopularMovies(e){const{popularMovies:t}=e;return t.results},movieProductionCountries(e){const{movie:t}=e;return t?.production_countries?.map((e=>e.name)).join(", ")},movieGenres(e){const{movie:t}=e;return t?.genres?.map((e=>e.name)).join(", ")},mainMovieActors(e){const{movieCredits:t}=e;return t?.cast?.slice(0,8)},genresById(e){const{genres:t}=e,a={};return t.map((e=>{a[e.id]=e.name})),a}};var n=a(376);const r="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkMjRhMzc3NTgyMDNhZGZjMTIzOWFiZTE2MGRmN2Q2MiIsInN1YiI6IjY0OTZmNjA4OTU1YzY1MDBjN2FlMzkyMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.lc7BQHBo_wOVAK64z9qyT-IRjFZdF1-H7ZPeuIj_7GU";let c="https://api.themoviedb.org/3";function l(){const e=n.Z.create({baseURL:c,headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});return e}var u=a(4725);const m={getPopularMovies(e,t){const a={language:u.b$,region:"UA",page:e,...t};return l().get("/movie/popular",{params:a})},searchMovieByName(e){const t={language:u.b$,query:e};return l().get("/search/movie",{params:t})},getGenres(){const e={language:u.b$};return l().get("genre/movie/list",{params:e})},getMovieVideos(e){const t={language:u.b$};return l().get(`movie/${e}/videos`,{params:t})},getMovieRecommendations(e){const t={language:u.b$};return l().get(`movie/${e}/similar`,{params:t})},getMovieDetails(e){const t={language:u.b$};return l().get(`/movie/${e}`,{params:t})},getMovieCredits(e){const t={language:u.b$};return l().get(`movie/${e}/credits`,{params:t})}},g="movies",p=(0,s.Q_)(g,{state:o,getters:i,actions:{async FETCH_POPULAR_MOVIES(e=1,t={}){const a=await m.getPopularMovies(e,t);this.popularMovies=a.data},async FETCH_MOVIE_BY_NAME(e){const t=await m.searchMovieByName(e);this.searchMovies=t.data.results},async FETCH_SINGLE_MOVIE_INFORMATION(e){const t=await this.FETCH_MOVIE_DETAILS(e);return await this.FETCH_MOVIE_RECOMMENDATIONS(e),await this.FETCH_MOVIE_CREDITS(e),await this.FETCH_MOVIE_VIDEOS(e),t},async FETCH_MOVIE_DETAILS(e){const t=await m.getMovieDetails(e);return this.movie=t.data,t.data},async FETCH_MOVIE_RECOMMENDATIONS(e){const t=await m.getMovieRecommendations(e);this.moviesByRecommendation=t.data.results},async FETCH_MOVIE_CREDITS(e){const t=await m.getMovieCredits(e);this.movieCredits=t.data},async FETCH_MOVIE_VIDEOS(e){const t=await m.getMovieVideos(e);this.videos=t.data.results,this.selectedVideo=this.videos[0]},async FETCH_ALL_GENRES(){const e=await m.getGenres();this.genres=e.data.genres}},persist:{storage:localStorage}}),d={movies:p}},5626:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>J});var s=a(8613);function o(e,t,a,o,i,n){const r=(0,s.up)("navigation-menu"),c=(0,s.up)("q-space"),l=(0,s.up)("language-switcher"),u=(0,s.up)("movie-searchbar"),m=(0,s.up)("q-header"),g=(0,s.up)("router-view"),p=(0,s.up)("q-page-container"),d=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(d,{view:"lHh Lpr lFf",class:"bg-custom"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{elevated:"",class:"flex items-center q-pa-sm",style:{height:"60px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(r),(0,s.Wm)(c),(0,s.Wm)(l),(0,s.Wm)(u)])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g)])),_:1})])),_:1})}var i=a(5304);function n(e,t,a,o,n,r){const c=(0,s.up)("q-icon"),l=(0,s.up)("q-item-section"),u=(0,s.up)("q-item"),m=(0,s.up)("search-movie-card"),g=(0,s.up)("q-select");return(0,s.wg)(),(0,s.j4)(g,{dark:"","use-input":"",dense:"",standout:"","hide-dropdown-icon":"",onInputValue:e.setModel,"virtual-scroll-slice-size":"5","popup-content-class":"search-bar","spinner-color":"primary",options:e.moviesOptions,"fill-input":"","hide-selected":"","model-value":e.search,label:e.$t("searchText"),class:"q-ml-md search-bar"},{append:(0,s.w5)((()=>[(0,s.Wm)(c,{name:"search"})])),"no-option":(0,s.w5)((()=>[e.isSearchEmpty?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(u,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{class:"text-grey"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.$t("emptySearch")),1)])),_:1})])),_:1}))])),option:(0,s.w5)((t=>[(0,s.Wm)(m,{item:t.opt,onGoToMovie:e.goToMoviePage},null,8,["item","onGoToMovie"])])),_:1},8,["onInputValue","options","model-value","label"])}a(3177);const r=e=>((0,s.dD)("data-v-03c748b8"),e=e(),(0,s.Cn)(),e),c={class:"column justify-between q-pa-sm",style:{height:"150px"}},l={class:"title"},u={class:"text-weight-bold",style:{"font-size":"18px"}},m=r((()=>(0,s._)("br",null,null,-1))),g={style:{"font-size":"12px"}},p={class:"flex justify-between items-end"};function d(e,t,o,n,r,d){const v=(0,s.up)("q-img"),h=(0,s.up)("q-icon"),w=(0,s.up)("q-item");return(0,s.wg)(),(0,s.j4)(w,{class:"movie-card"},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"row wrap cursor-pointer",style:{width:"100%"},onClick:t[0]||(t[0]=t=>e.$emit("goToMovie",e.item))},[(0,s.Wm)(v,{src:e.imgPath,class:"poster",fit:"cover"},{error:(0,s.w5)((()=>[(0,s.Wm)(v,{class:"poster",fit:"cover",src:a(4610)},null,8,["src"])])),_:1},8,["src"]),(0,s._)("div",c,[(0,s._)("div",l,[(0,s._)("span",u,(0,i.zw)(e.item.title),1),m,(0,s._)("span",g,(0,i.zw)(e.item.overview.slice(0,120)+"..."),1)]),(0,s._)("div",p,[(0,s._)("span",null,(0,i.zw)(e.$t("votes"))+": "+(0,i.zw)(e.item.vote_count),1),(0,s._)("span",null,[(0,s.Wm)(h,{name:"star",size:"sm",class:"self-end q-mr-sm",color:"yellow",style:{"margin-left":"auto"}}),(0,s._)("span",{style:(0,i.j5)([{"background-color":e.ratingColor},{"border-radius":"8px",padding:"0.5em 1em"}]),class:"text-black self-end"},(0,i.zw)(e.item.vote_average.toFixed(2)),5)])])])])])),_:1})}var v=a(4725);const h=(0,s.aZ)({name:"search-movie-card",props:{item:{type:Object,default:()=>{},required:!1}},emits:["goToMovie"],data(){return{imgDatabasePath:"https://image.tmdb.org/t/p/w500"}},computed:{imgPath(){return`${this.imgDatabasePath}${this.item.poster_path}`},ratingColor(){return v.VB[Math.round(this.item.vote_average)]}}});var w=a(2815),M=a(7414),_=a(85),y=a(242),I=a(8150),f=a.n(I);const E=(0,w.Z)(h,[["render",d],["__scopeId","data-v-03c748b8"]]),C=E;f()(h,"components",{QItem:M.Z,QImg:_.Z,QIcon:y.Z});var T=a(9677);const b=(0,s.aZ)({name:"movie-searchbar",components:{SearchMovieCard:C},setup(){const e=T.Z.movies();return{moviesStore:e}},data(){return{search:"",movies:[],timer:null}},computed:{isSearchEmpty(){return""===this.search},moviesOptions(){return this.moviesStore.searchMovies}},methods:{goToMoviePage(e){this.search="",this.$router.push({name:"movie",params:{id:e.id}})},setModel(e){clearTimeout(this.timer),this.search=e,this.timer=setTimeout((()=>{""!==e&&this.moviesStore.FETCH_MOVIE_BY_NAME(e)}),1e3)}}});var S=a(4300),Z=a(3545);const O=(0,w.Z)(b,[["render",n],["__scopeId","data-v-92a2f37a"]]),k=O;function q(e,t,a,o,n,r){const c=(0,s.up)("country-flag");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{country:"gb",class:(0,i.C_)(["flag",{"choosed-language":"en-US"===e.locale}]),onClick:t[0]||(t[0]=t=>e.changeLanguage("en-US"))},null,8,["class"]),(0,s.Wm)(c,{country:"ua",class:(0,i.C_)(["flag",{"choosed-language":"uk"===e.locale}]),onClick:t[1]||(t[1]=t=>e.changeLanguage("uk"))},null,8,["class"])])}f()(b,"components",{QSelect:S.Z,QIcon:y.Z,QItem:M.Z,QItemSection:Z.Z});var D=a(9440);const V=(0,s.aZ)({name:"language-switcher",setup(){const{locale:e}=(0,D.QT)({useScope:"global"});return{locale:e}},methods:{changeLanguage(e){this.locale=e,localStorage.setItem("app_language",e)}}}),$=(0,w.Z)(V,[["render",q],["__scopeId","data-v-cb2f45e0"]]),N=$,j=["onClick"],z={class:"q-pa-md flex wrap item-2 cursor-pointer"},F=["onClick"];function H(e,t,a,o,n,r){return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.listItems,(a=>((0,s.wg)(),(0,s.iD)("div",{key:a,class:"item"},["home"===a.field||"favorites"===a.field?((0,s.wg)(),(0,s.iD)("span",{key:0,onClick:t=>e.goToPage(a.field),class:"flex items-center cursor-pointer q-pa-sm"},(0,i.zw)(a.name),9,j)):((0,s.wg)(),(0,s.iD)("span",{key:1,class:"flex items-center cursor-pointer q-pa-sm",onClick:t[0]||(t[0]=(...t)=>e.setShowMenu&&e.setShowMenu(...t))},(0,i.zw)(a.name),1))])))),128)),e.showMenu?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"menu-wrapper",onMouseleave:t[1]||(t[1]=(...t)=>e.setShowMenu&&e.setShowMenu(...t))},[(0,s._)("div",z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.movieStore.genres,(t=>((0,s.wg)(),(0,s.iD)("span",{key:t.id,onClick:a=>e.goToPage("category",t.id),class:"q-pa-sm"},(0,i.zw)(t.name),9,F)))),128))])],32)):(0,s.kq)("",!0)],64)}const P=(0,s.aZ)({name:"navigation-menu",setup(){const e=T.Z.movies();return{movieStore:e}},data(){return{showMenu:!1}},methods:{setShowMenu(){this.showMenu=!this.showMenu},goToPage(e,t){const a="category"===e?{categoryId:t}:{};this.$router.push({name:e,params:a})}},computed:{listItems(){return[{name:this.$t("homePage"),field:"home"},{name:this.$t("favoritePage"),field:"favorites"},{name:this.$t("genres")}]}}}),W=(0,w.Z)(P,[["render",H],["__scopeId","data-v-0164117c"]]),Q=W,x=(0,s.aZ)({name:"MainLayout",components:{MovieSearchbar:k,LanguageSwitcher:N,NavigationMenu:Q},setup(){const{locale:e}=(0,D.QT)({useScope:"global"}),t=T.Z.movies();return{locale:e,movieStore:t}},mounted(){this.movieStore.FETCH_ALL_GENRES()},watch:{locale:{handler:function(){location.reload()}}}});var L=a(5026),R=a(1649),A=a(9724),B=a(5728);const G=(0,w.Z)(x,[["render",o]]),J=G;f()(x,"components",{QLayout:L.Z,QHeader:R.Z,QSpace:A.Z,QPageContainer:B.Z})},4610:(e,t,a)=>{e.exports=a.p+"img/image-not-found.c160315d.jpg"}}]);
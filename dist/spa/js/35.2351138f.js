(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[35],{4683:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var o=a(3746);const s=()=>({paginationPage:1,popularMovies:[],favoriteMovies:[],searchMovies:[],movie:{},moviesByRecommendation:[],movieCredits:{},videos:[],selectedVideo:{},genres:[]}),n={getPopularMovies(e){const{popularMovies:t}=e;return t.results},movieProductionCountries(e){const{movie:t}=e;return t?.production_countries?.map((e=>e.name)).join(", ")},movieGenres(e){const{movie:t}=e;return t?.genres?.map((e=>e.name)).join(", ")},mainMovieActors(e){const{movieCredits:t}=e;return t?.cast?.slice(0,8)},genresById(e){const{genres:t}=e,a={};return t.map((e=>{a[e.id]=e.name})),a}};var i=a(7524);const r={getCookie(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}};let c="https://api.themoviedb.org/3";function l(){const e=r.getCookie("movies_token"),t=i.Z.create({baseURL:c,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return t}var u=a(1193);const m={getPopularMovies(e,t){const a={language:u.b$,region:"UA",page:e,...t};return l().get("/movie/popular",{params:a})},searchMovieByName(e){const t={language:u.b$,query:e};return l().get("/search/movie",{params:t})},getGenres(){const e={language:u.b$};return l().get("genre/movie/list",{params:e})},getMovieVideos(e){const t={language:u.b$};return l().get(`movie/${e}/videos`,{params:t})},getMovieRecommendations(e){const t={language:u.b$};return l().get(`movie/${e}/similar`,{params:t})},getMovieDetails(e){const t={language:u.b$};return l().get(`/movie/${e}`,{params:t})},getMovieCredits(e){const t={language:u.b$};return l().get(`movie/${e}/credits`,{params:t})}},p="movies",g=(0,o.Q_)(p,{state:s,getters:n,actions:{async FETCH_POPULAR_MOVIES(e=1,t={}){const a=await m.getPopularMovies(e,t);this.popularMovies=a.data},async FETCH_MOVIE_BY_NAME(e){const t=await m.searchMovieByName(e);this.searchMovies=t.data.results},async FETCH_SINGLE_MOVIE_INFORMATION(e){const t=await this.FETCH_MOVIE_DETAILS(e);return await this.FETCH_MOVIE_RECOMMENDATIONS(e),await this.FETCH_MOVIE_CREDITS(e),await this.FETCH_MOVIE_VIDEOS(e),t},async FETCH_MOVIE_DETAILS(e){const t=await m.getMovieDetails(e);return this.movie=t.data,t.data},async FETCH_MOVIE_RECOMMENDATIONS(e){const t=await m.getMovieRecommendations(e);this.moviesByRecommendation=t.data.results},async FETCH_MOVIE_CREDITS(e){const t=await m.getMovieCredits(e);this.movieCredits=t.data},async FETCH_MOVIE_VIDEOS(e){const t=await m.getMovieVideos(e);this.videos=t.data.results,this.selectedVideo=this.videos[0]},async FETCH_ALL_GENRES(){const e=await m.getGenres();this.genres=e.data.genres}},persist:{storage:localStorage}}),d={movies:g}},7035:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>U});var o=a(9835);function s(e,t,a,s,n,i){const r=(0,o.up)("navigation-menu"),c=(0,o.up)("q-space"),l=(0,o.up)("language-switcher"),u=(0,o.up)("movie-searchbar"),m=(0,o.up)("q-header"),p=(0,o.up)("router-view"),g=(0,o.up)("q-page-container"),d=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.j4)(d,{view:"lHh Lpr lFf",class:"bg-custom"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{elevated:"",class:"flex items-center q-pa-sm",style:{height:"60px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(r),(0,o.Wm)(c),(0,o.Wm)(l),(0,o.Wm)(u)])),_:1}),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1})])),_:1})}var n=a(6970);function i(e,t,a,s,i,r){const c=(0,o.up)("q-icon"),l=(0,o.up)("q-item-section"),u=(0,o.up)("q-item"),m=(0,o.up)("search-movie-card"),p=(0,o.up)("q-select");return(0,o.wg)(),(0,o.j4)(p,{dark:"","use-input":"",dense:"",standout:"","hide-dropdown-icon":"",onInputValue:e.setModel,"virtual-scroll-slice-size":"5","popup-content-class":"search-bar","spinner-color":"primary",options:e.moviesOptions,"fill-input":"","hide-selected":"","model-value":e.search,label:e.$t("searchText"),class:"q-ml-md search-bar"},{append:(0,o.w5)((()=>[(0,o.Wm)(c,{name:"search"})])),"no-option":(0,o.w5)((()=>[e.isSearchEmpty?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(u,{key:0},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{class:"text-grey"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t("emptySearch")),1)])),_:1})])),_:1}))])),option:(0,o.w5)((t=>[(0,o.Wm)(m,{item:t.opt,onGoToMovie:e.goToMoviePage},null,8,["item","onGoToMovie"])])),_:1},8,["onInputValue","options","model-value","label"])}a(9665);const r=e=>((0,o.dD)("data-v-64eef777"),e=e(),(0,o.Cn)(),e),c={class:"column justify-between q-pa-sm",style:{height:"150px"}},l={class:"title"},u={class:"text-weight-bold",style:{"font-size":"18px"}},m=r((()=>(0,o._)("br",null,null,-1))),p={style:{"font-size":"12px"}},g={class:"flex justify-between items-end"};function d(e,t,s,i,r,d){const v=(0,o.up)("q-img"),h=(0,o.up)("q-icon"),w=(0,o.up)("q-item");return(0,o.wg)(),(0,o.j4)(w,{class:"movie-card"},{default:(0,o.w5)((()=>[(0,o._)("div",{class:"row wrap cursor-pointer",style:{width:"100%"},onClick:t[0]||(t[0]=t=>e.$emit("goToMovie",e.item))},[(0,o.Wm)(v,{src:e.imgPath,class:"poster",fit:"cover"},{error:(0,o.w5)((()=>[(0,o.Wm)(v,{class:"poster",fit:"cover",src:a(8927)},null,8,["src"])])),_:1},8,["src"]),(0,o._)("div",c,[(0,o._)("div",l,[(0,o._)("span",u,(0,n.zw)(e.item.title),1),m,(0,o._)("span",p,(0,n.zw)(e.item.overview.slice(0,120)+"..."),1)]),(0,o._)("div",g,[(0,o._)("span",null,(0,n.zw)(e.$t("votes"))+": "+(0,n.zw)(e.item.vote_count),1),(0,o._)("span",null,[(0,o.Wm)(h,{name:"star",size:"sm",class:"self-end q-mr-sm",color:"yellow",style:{"margin-left":"auto"}}),(0,o._)("span",{style:(0,n.j5)([{"background-color":e.ratingColor},{"border-radius":"8px",padding:"0.5em 1em"}]),class:"text-black self-end"},(0,n.zw)(e.item.vote_average.toFixed(2)),5)])])])])])),_:1})}var v=a(1193);const h=(0,o.aZ)({name:"search-movie-card",props:{item:{type:Object,default:()=>{},required:!1}},emits:["goToMovie"],data(){return{imgDatabasePath:"https://image.tmdb.org/t/p/w500"}},computed:{imgPath(){return`${this.imgDatabasePath}${this.item.poster_path}`},ratingColor(){return v.VB[Math.round(this.item.vote_average)]}}});var w=a(1639),_=a(490),M=a(335),f=a(2857),y=a(9984),E=a.n(y);const C=(0,w.Z)(h,[["render",d],["__scopeId","data-v-64eef777"]]),I=C;E()(h,"components",{QItem:_.Z,QImg:M.Z,QIcon:f.Z});var S=a(4683);const T=(0,o.aZ)({name:"movie-searchbar",components:{SearchMovieCard:I},setup(){const e=S.Z.movies();return{moviesStore:e}},data(){return{search:"",movies:[],timer:null}},computed:{isSearchEmpty(){return""===this.search},moviesOptions(){return this.moviesStore.searchMovies}},methods:{goToMoviePage(e){this.search="",this.$router.push({name:"movie",params:{id:e.id}})},setModel(e){clearTimeout(this.timer),this.search=e,this.timer=setTimeout((()=>{""!==e&&this.moviesStore.FETCH_MOVIE_BY_NAME(e)}),1e3)}}});var b=a(1855),k=a(1233);const Z=(0,w.Z)(T,[["render",i],["__scopeId","data-v-2f874e2c"]]),q=Z;function $(e,t,a,s,i,r){const c=(0,o.up)("country-flag");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(c,{country:"gb",class:(0,n.C_)(["flag",{"choosed-language":"en-US"===e.locale}]),onClick:t[0]||(t[0]=t=>e.changeLanguage("en-US"))},null,8,["class"]),(0,o.Wm)(c,{country:"ua",class:(0,n.C_)(["flag",{"choosed-language":"uk"===e.locale}]),onClick:t[1]||(t[1]=t=>e.changeLanguage("uk"))},null,8,["class"])])}E()(T,"components",{QSelect:b.Z,QIcon:f.Z,QItem:_.Z,QItemSection:k.Z});var O=a(7712);const D=(0,o.aZ)({name:"language-switcher",setup(){const{locale:e}=(0,O.QT)({useScope:"global"});return{locale:e}},methods:{changeLanguage(e){this.locale=e,localStorage.setItem("app_language",e)}}}),V=(0,w.Z)(D,[["render",$],["__scopeId","data-v-5894043a"]]),H=V,P=["onClick"],x={class:"q-pa-md flex wrap item-2 cursor-pointer"},F=["onClick"];function L(e,t,a,s,i,r){return(0,o.wg)(),(0,o.iD)(o.HY,null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.listItems,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a,class:"item"},["home"===a.field||"favorites"===a.field?((0,o.wg)(),(0,o.iD)("span",{key:0,onClick:t=>e.goToPage(a.field),class:"flex items-center cursor-pointer q-pa-sm"},(0,n.zw)(a.name),9,P)):((0,o.wg)(),(0,o.iD)("span",{key:1,class:"flex items-center cursor-pointer q-pa-sm",onClick:t[0]||(t[0]=(...t)=>e.setShowMenu&&e.setShowMenu(...t))},(0,n.zw)(a.name),1))])))),128)),e.showMenu?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"menu-wrapper",onMouseleave:t[1]||(t[1]=(...t)=>e.setShowMenu&&e.setShowMenu(...t))},[(0,o._)("div",x,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.movieStore.genres,(t=>((0,o.wg)(),(0,o.iD)("span",{key:t.id,onClick:a=>e.goToPage("category",t.id),class:"q-pa-sm"},(0,n.zw)(t.name),9,F)))),128))])],32)):(0,o.kq)("",!0)],64)}const R=(0,o.aZ)({name:"navigation-menu",setup(){const e=S.Z.movies();return{movieStore:e}},data(){return{showMenu:!1}},methods:{setShowMenu(){this.showMenu=!this.showMenu},goToPage(e,t){const a="category"===e?{categoryId:t}:{};this.$router.push({name:e,params:a})}},computed:{listItems(){return[{name:this.$t("homePage"),field:"home"},{name:this.$t("favoritePage"),field:"favorites"},{name:this.$t("genres")}]}}}),W=(0,w.Z)(R,[["render",L],["__scopeId","data-v-1c67297e"]]),j=W,z=(0,o.aZ)({name:"MainLayout",components:{MovieSearchbar:q,LanguageSwitcher:H,NavigationMenu:j},setup(){const{locale:e}=(0,O.QT)({useScope:"global"}),t=S.Z.movies();return{locale:e,movieStore:t}},mounted(){this.movieStore.FETCH_ALL_GENRES()},watch:{locale:{handler:function(){location.reload()}}}});var N=a(7605),Q=a(6602),A=a(136),B=a(2133);const G=(0,w.Z)(z,[["render",s]]),U=G;E()(z,"components",{QLayout:N.Z,QHeader:Q.Z,QSpace:A.Z,QPageContainer:B.Z})},8927:(e,t,a)=>{e.exports=a.p+"img/image-not-found.c160315d.jpg"}}]);